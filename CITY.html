<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 åŸå¸‚å·¥ç¨‹å“¡å·¥åœ‹å¤–æ—…éŠï¼šéŸ“åœ‹æ¿Ÿå·å³¶ä¹‹æ—…</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        /* --- ğŸ¨ æ–°é…è‰²æ–¹æ¡ˆ --- */
        :root {
            --bg-dark-blue: #333A56;  /* æ·±è—ç´« - éˆæ„Ÿä¾†æº: åœ–ç‰‡èƒŒæ™¯ */
            --accent-red: #DC2626;      /* äº®ç´…è‰² - éˆæ„Ÿä¾†æº: LOGO 'C' */
            --text-light-gray: #EAEAEA;/* æ·ºç°è‰² - éˆæ„Ÿä¾†æº: LOGO 'ITY' */
            --card-bg: rgba(83, 92, 125, 0.2); /* å¡ç‰‡èƒŒæ™¯ï¼Œå¸¶é€æ˜åº¦ */
            --card-border: rgba(234, 234, 234, 0.1);
            --accent-red-hover: #F87171; /* ç´…è‰²æ‡¸åœæ•ˆæœ */
        }
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-dark-blue);
            color: var(--text-light-gray);
            line-height: 1.7;
        }
        .gradient-text {
            background: linear-gradient(45deg, var(--accent-red-hover), var(--text-light-gray));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .card {
            background-color: var(--card-bg);
            backdrop-filter: blur(16px);
            border: 1px solid var(--card-border);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-radius: 1rem;
        }
        .card:hover {
            transform: translateY(-6px);
            box-shadow: 0 18px 40px rgba(0, 0, 0, 0.5);
        }
        .countdown-segment {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            background-color: var(--accent-red-hover);
            color: #FFFFFF;
            border-radius: 0.5rem; font-weight: 700; font-size: 1.75rem;
            min-width: 65px; height: 70px; text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); line-height: 1.1;
        }
        .countdown-label { 
            font-size: 0.8rem; 
            color: #FFFFFF;
            margin-top: 0.2rem; 
            font-weight: 500; 
        }
        .info-list-item {
            display: flex;
            align-items: flex-start;
            font-size: 1rem;
            color: var(--text-light-gray);
            margin-bottom: 0.75rem;
        }
        .info-list-item::before {
            content: 'â€¢';
            color: var(--accent-red);
            font-weight: bold;
            display: inline-block;
            width: 1em;
            flex-shrink: 0;
            margin-right: 0.6em;
            font-size: 1.2em;
            line-height: 1.5;
        }
        input[type="radio"], input[type="checkbox"] {
            -webkit-appearance: none; -moz-appearance: none; appearance: none;
            border: 2px solid var(--text-light-gray); transition: all 0.2s ease-in-out;
            outline: none; cursor: pointer; position: relative;
        }
        input[type="checkbox"] { border-radius: 4px; width: 1.25rem; height: 1.25rem; }
        input[type="checkbox"]:checked {
            background-color: var(--accent-red); border-color: var(--accent-red);
            box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.4);
        }
        input[type="checkbox"]:checked::before {
            content: 'âœ“'; color: white; font-weight: bold; font-size: 0.8rem;
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
        }
        label.inline-flex span { transition: color 0.2s ease-in-out; }
        input[type="checkbox"]:checked + span { color: var(--accent-red-hover); font-weight: 600; }
        .form-input {
            background-color: rgba(0,0,0,0.2); border: 1px solid #535C7D;
            border-radius: 0.5rem; padding: 0.5rem 0.75rem;
            color: white; width: 100%;
        }
        .form-input:focus {
            outline: none;
            border-color: var(--accent-red);
            box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.5);
        }
        .card-header {
            font-size: 1.75rem;
            font-weight: 900;
            margin-bottom: 1.5rem;
            text-align: center;
            color: var(--text-light-gray);
        }
        #submitBtn {
            background-color: var(--accent-red);
            color: white;
        }
        #submitBtn:hover {
            background-color: var(--accent-red-hover);
        }
        #submitBtn:disabled {
            background-color: #555;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="p-4 sm:p-6 lg:p-8">

    <div class="container mx-auto max-w-5xl">
        <header class="text-center my-8 md:my-12">
            <h1 class="text-4xl md:text-6xl font-black gradient-text leading-tight">2025 åŸå¸‚å·¥ç¨‹å“¡å·¥åœ‹å¤–æ—…éŠ</h1>
            <p class="text-2xl md:text-4xl font-bold text-white mt-2">éŸ“åœ‹æ¿Ÿå·å³¶ä¹‹æ—… ğŸ‡°ğŸ‡·</p>
        </header>

        <main class="space-y-8">
            
            <section class="card p-6 md:p-8">
                <h2 class="card-header">æ—…è¡Œæ‘˜è¦</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="text-center md:text-left">
                        <div class="mb-6"><h3 class="text-lg font-bold text-white">æ—…è¡Œæ—¥æœŸ</h3><p class="text-3xl font-black text-red-400">2025å¹´ 11æœˆ 10æ—¥ (ä¸€) - 11æœˆ 14æ—¥ (äº”)</p><p class="text-gray-300">äº”å¤©å››å¤œï¼Œäº«å—æµ·å³¶é¢¨å…‰</p></div>
                        <div class="p-4 rounded-lg bg-black/10"><h3 class="text-lg font-bold text-white">å ±åå€’æ•¸ä¸­ <span class="text-red-400">(æœ¬é€±æ—¥æˆªæ­¢)</span></h3><div id="countdownTimer" class="flex justify-center md:justify-start items-start mt-2 space-x-2 md:space-x-3"></div></div>
                    </div>
                    <div class="space-y-4 p-4 rounded-lg bg-black/10">
                        <div class="text-center"><h3 class="text-lg font-bold text-white">âœˆï¸ å»ç¨‹ TPE â†’ CJU</h3><p class="text-2xl font-bold text-white">14:25 - 17:30</p><p class="text-sm text-gray-400">å¾·å¨èˆªç©º TW688</p></div>
                        <hr class="border-gray-700">
                        <div class="text-center"><h3 class="text-lg font-bold text-white">âœˆï¸ å›ç¨‹ CJU â†’ TPE</h3><p class="text-2xl font-bold text-white">12:20 - 13:25</p><p class="text-sm text-gray-400">å¾·å¨èˆªç©º TW687</p></div>
                    </div>
                </div>
            </section>

            <section class="card p-6 md:p-8">
                <h2 class="card-header">è©³ç´°è¡Œç¨‹</h2>
                <div class="space-y-6">
                    <div class="p-4 border-l-4 border-red-600 bg-black/10 rounded-r-lg"><h3 class="text-xl font-bold text-white mb-2">ç¬¬ä¸€å¤©ï¼šæ¡ƒåœ’åœ‹éš›æ©Ÿå ´/æ¿Ÿå·åœ‹éš›æ©Ÿå ´â†’é¾é ­å²©+é¾æ·µå³½è°·</h3><p class="text-gray-300">æ¡ƒåœ’åœ‹éš›æ©Ÿå ´/æ¿Ÿå·åœ‹éš›æ©Ÿå ´â†’é¾é ­å²©+é¾æ·µå³½è°·(å·¨å¤§ç«å±±å²©/æµ·è•åœ°å½¢)â†’äº«ç”¨æ™šé¤â†’å…¥ä½é£¯åº— CHECKINâ†’äº«ç”¨é£¯åº—è¨­æ–½</p><p class="text-sm italic text-red-300 mt-2">æ—©é¤:X | åˆé¤:èŠ±èŠ±å°é»å¿ƒ | æ™šé¤:ä¸‰å§“ç©´æµ·é®®é‹æ–™ç† (W22,500éŸ“å¹£/äºº)</p><p class="text-sm text-gray-400 mt-2">ä½å®¿: å¸‚å€å››æ˜Ÿ éŸ‹æ–¯ç«‹é£¯åº— WHISTLE LARK æˆ–åŒç­‰ç´š</p></div>
                    <div class="p-4 border-l-4 border-red-600 bg-black/10 rounded-r-lg"><h3 class="text-xl font-bold text-white mb-2">ç¬¬äºŒå¤©ï¼šåŸå±±æ—¥å‡ºå³°â†’è¬ä¸ˆçªŸâ†’æ¿Ÿå·åŸé‚‘æ°‘ä¿—æ‘â†’æ±é–€å¸‚å ´</h3><p class="text-gray-300">é£¯åº—â†’åŸå±±æ—¥å‡ºå³°(ç«å±±ä¸˜/ä¸–ç•Œè‡ªç„¶éºç”¢)â†’è¬ä¸ˆçªŸ(ä¸–ç•Œä¸Šæœ€é•·çš„ç†”å²©æ´)â†’æ¿Ÿå·åŸé‚‘æ°‘ä¿—æ‘(è´ˆæ¯äººä¸€æ¯èœ‚èœœèŒ¶æˆ–äº”å‘³å­èŒ¶)â†’æ±é–€å¸‚å ´+ä¸­å¤®åœ°ä¸‹è¡—+é»‘è±¬è‚‰ä¸€æ¢è¡—â†’è¿”å›é£¯åº—ä¼‘æ†©</p><p class="text-sm italic text-red-300 mt-2">æ—©é¤:é£¯åº—å…§ç”¨ | åˆé¤:çŸ³é‹æ‹Œé£¯+æ¶®æ¶®é‹ (W10,000éŸ“å¹£/äºº) | æ™šé¤:æ˜å€«é€²å£«ç¢³çƒ¤é»‘æ¯›è±¬è‚‰åƒåˆ°é£½+å­£ç¯€å°èœ (W18,900éŸ“å¹£/äºº)</p><p class="text-sm text-gray-400 mt-2">ä½å®¿: å¸‚å€å››æ˜Ÿ éŸ‹æ–¯ç«‹é£¯åº— WHISTLE LARK æˆ–åŒç­‰ç´š</p></div>
                    <div class="p-4 border-l-4 border-red-600 bg-black/10 rounded-r-lg"><h3 class="text-xl font-bold text-white mb-2">ç¬¬ä¸‰å¤©ï¼šECOLANDæ£®æ—å°ç«è»Šâ†’æ¼¢æ‹æ¨¹æœ¨åœ’â†’å¤©åœ°æ·µç€‘å¸ƒ</h3><p class="text-gray-300">é£¯åº—â†’ECOLAND æ£®æ—å°ç«è»Š(æ£®æ—è¶£/é¢¨è»Š/æµ·ç›œèˆ¹/å½©è™¹èººæ¤…/å“ˆæ¯”äººæ¨¹æ´)â†’æ¼¢æ‹æ¨¹æœ¨åœ’(åä¸€å€‹ä¸»é¡Œåœ’å€)â†’å¤©åœ°æ·µç€‘å¸ƒ(å¤§é•·ä»Šå ´æ™¯/ä¸Šå¸çš„æ± å¡˜)â†’æ¿Ÿå·æœ‰æ—æ©˜å­(è´ˆæ¯äºº5é¡†æ©˜å­)â†’è¿”å›é£¯åº—ä¼‘æ†©</p><p class="text-sm italic text-red-300 mt-2">æ—©é¤:é£¯åº—å…§ç”¨ | åˆé¤:é’èŠ±é­šå®šé£Ÿ (â‚©11,000éŸ“å¹£/äºº) | æ™šé¤:æ´»é®‘é­š+ç¢³çƒ¤é»‘æ¯›è±¬+è¦+è›‹+å¤§é†¬ (â‚©24,000éŸ“å¹£/äºº)</p><p class="text-sm text-gray-400 mt-2">ä½å®¿: å¸‚å€å››æ˜Ÿ éŸ‹æ–¯ç«‹é£¯åº— WHISTLE LARK æˆ–åŒç­‰ç´š</p></div>
                    <div class="p-4 border-l-4 border-red-600 bg-black/10 rounded-r-lg"><h3 class="text-xl font-bold text-white mb-2">ç¬¬å››å¤©ï¼šå…¨æ—¥è‡ªç”±æ´»å‹•</h3><p class="text-gray-300">é£¯åº—â†’å…¨æ—¥è‡ªç”±æ´»å‹•â†’è¿”å›é£¯åº—ä¼‘æ†©</p><p class="text-sm italic text-red-300 mt-2">æ—©é¤:é£¯åº—å…§ç”¨ | åˆã€æ™šé¤:æ–¹ä¾¿éŠç©,æ•¬è«‹è‡ªç†</p><p class="text-sm text-gray-400 mt-2">ä½å®¿: å¸‚å€å››æ˜Ÿ éŸ‹æ–¯ç«‹é£¯åº— WHISTLE LARK æˆ–åŒç­‰ç´š</p></div>
                    <div class="p-4 border-l-4 border-red-600 bg-black/10 rounded-r-lg"><h3 class="text-xl font-bold text-white mb-2">ç¬¬äº”å¤©ï¼šè¿”å›æº«æš–çš„å®¶</h3><p class="text-gray-300">é£¯åº—å‡ºç™¼â†’æ¿Ÿå·åœ‹éš›æ©Ÿå ´/æ¡ƒåœ’åœ‹éš›æ©Ÿå ´â†’æ­¡æ¨‚è³¦æ­¸</p><p class="text-sm italic text-red-300 mt-2">æ—©é¤:é£¯åº—å…§ç”¨ | åˆé¤:X | æ™šé¤:X</p><p class="text-sm text-gray-400 mt-2">ä½å®¿: æº«æš–çš„å®¶</p></div>
                </div>
            </section>
            
            <section class="card p-6 md:p-8">
                <h2 class="card-header">è²»ç”¨è©¦ç®— & ç·šä¸Šå ±å</h2>
                 <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <div class="space-y-2"><h3 class="text-xl font-bold text-white mb-4">ğŸ’° è²»ç”¨è¦å‰‡</h3><div class="info-list-item"><div><strong>å…¬å¸è£œåŠ©ï¼š</strong><br>æ¯ä½å“¡å·¥è£œåŠ© <strong class="text-red-500">$30,000</strong> å…ƒã€‚</div></div><div class="info-list-item"><div><strong>å“¡å·¥è‡ªä»˜ï¼š</strong><br><ul class="list-disc list-inside pl-2 text-gray-300"><li>ç¸½äººæ•¸ > 20ï¼šè‡ªä»˜ $2,900</li><li>ç¸½äººæ•¸ 16-20ï¼šè‡ªä»˜ $3,900</li></ul></div></div><div class="info-list-item"><div><strong>çœ·å±¬è£œåŠ©ï¼š</strong><br>æ¥­ç¸¾é”æ¨™è€…ï¼Œå¯ç‚º<strong class="text-white">ä¸€ä½åŒè¡Œçœ·å±¬</strong> (æˆäººæˆ–å­©ç«¥) ç”³è«‹ <strong class="text-red-400">$15,000 å…ƒè£œåŠ©</strong>ï¼</div></div><div class="info-list-item"><div><strong>å…¶ä»–å„ªæƒ ï¼š</strong><br><ul class="list-disc list-inside pl-2 text-gray-300"><li>å­©ç«¥ä¸ä½”åºŠï¼šåœ˜è²»æ¸› $1,000</li><li>å¬°å…’åƒ¹ï¼š$6,500</li><li>å–®äººæˆ¿ï¼šéœ€è£œåƒ¹å·® $9,000</li></ul></div></div></div>
                    <div class="space-y-2"><h3 class="text-xl font-bold text-white mb-4">ğŸ“© å ±åæµç¨‹</h3><div class="info-list-item"><div><strong>æ­¥é©Ÿä¸€ï¼š</strong><br>ä½¿ç”¨ä¸‹æ–¹çš„å·¥å…·è©¦ç®—æ‚¨çš„è²»ç”¨ã€‚</div></div><div class="info-list-item"><div><strong>æ­¥é©ŸäºŒï¼š</strong><br>å¡«å¯«æ‚¨èˆ‡æ‰€æœ‰åŒè¡Œçœ·å±¬çš„è­·ç…§è³‡æ–™ã€‚</div></div><div class="info-list-item"><div><strong>æ­¥é©Ÿä¸‰ï¼š</strong><br>é»æ“Šã€Œé€å‡ºå ±åã€æŒ‰éˆ•ï¼Œè³‡æ–™æœƒè‡ªå‹•è¨˜éŒ„ï¼Œå®Œæˆå¾Œæœƒæœ‰æˆåŠŸè¨Šæ¯ï¼</div></div><div class="info-list-item"><div><strong>å–æ¶ˆæ”¿ç­–ï¼š</strong><br>å ±åå¾Œå–æ¶ˆï¼Œéœ€è‡ªä»˜æ©Ÿç¥¨å–æ¶ˆè²» <strong class="text-red-400">$9,000 - $12,000</strong> å…ƒã€‚</div></div></div>
                </div>
                <hr class="border-gray-700/50 mb-8">
                <form id="registrationForm" class="space-y-6">
                    <h3 class="text-2xl font-bold text-center text-white">è²»ç”¨è©¦ç®— & å ±åè¡¨</h3>
                    
                    <fieldset class="p-4 border border-gray-600 rounded-lg"><legend class="px-2 text-lg font-semibold text-white">1. åŒè¡Œäººæ•¸ (å“¡å·¥æœ¬äººå…å¡«)</legend><div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-2"><div><label for="numAdults" class="block text-sm font-medium text-gray-300 mb-1">çœ·å±¬ (æˆäºº)</label><input type="number" id="numAdults" class="form-input" value="0" min="0"></div><div><label for="numChildren" class="block text-sm font-medium text-gray-300 mb-1">å­©ç«¥ (ä¸ä½”åºŠ)</label><input type="number" id="numChildren" class="form-input" value="0" min="0"></div><div><label for="numInfants" class="block text-sm font-medium text-gray-300 mb-1">å¬°å…’ (2æ­²ä»¥ä¸‹)</label><input type="number" id="numInfants" class="form-input" value="0" min="0"></div></div></fieldset>
                    
                    <input type="hidden" id="hiddenAdults" name="adults">
                    <input type="hidden" id="hiddenChildren" name="children">
                    <input type="hidden" id="hiddenInfants" name="infants">

                    <fieldset class="p-4 border border-gray-600 rounded-lg"><legend class="px-2 text-lg font-semibold text-white">2. æ‚¨çš„è³‡æ–™</legend><div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-2"><div><label for="regName" class="block text-sm font-medium text-gray-300 mb-1">æ‚¨çš„å§“å</label><input type="text" id="regName" name="employee_name" class="form-input" placeholder="è«‹è¼¸å…¥å§“å" required></div><div><label for="regDept" class="block text-sm font-medium text-gray-300 mb-1">éƒ¨é–€</label><input type="text" id="regDept" name="department" class="form-input" placeholder="è«‹è¼¸å…¥éƒ¨é–€" required></div></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-4 items-center"><div><label class="block text-sm font-medium text-gray-300 mb-1">è­·ç…§è‹±æ–‡å§“å</label><input type="text" name="employee_passport_name" class="form-input" placeholder="PASSPORT NAME" required></div><div><label class="block text-sm font-medium text-gray-300 mb-1">è­·ç…§è™Ÿç¢¼</label><input type="text" name="employee_passport_number" class="form-input" placeholder="è­·ç…§è™Ÿç¢¼" required></div><div><label class="block text-sm font-medium text-gray-300 mb-1">å‡ºç”Ÿå¹´æœˆæ—¥</label><input type="date" name="employee_dob" class="form-input" required></div></div><div class="mt-4"><label class="inline-flex items-center cursor-pointer"><input type="checkbox" name="employee_renew_passport"><span class="ml-3 text-white">éœ€è¦æ–°è¾¦/æ›æ–°è­·ç…§</span></label></div></fieldset>
                    
                    <div id="companionSection" class="space-y-6"></div>

                    <fieldset class="p-4 border border-gray-600 rounded-lg"><legend class="px-2 text-lg font-semibold text-white">3. æ•´é«”é¸é …</legend><div class="flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-8 mt-2 justify-center"><label class="inline-flex items-center cursor-pointer"><input type="checkbox" id="performanceBonus" name="bonus"><span class="ml-3 text-white">å»å¹´æ¥­ç¸¾é”æ¨™ (äº«çœ·å±¬è£œåŠ©)</span></label><label class="inline-flex items-center cursor-pointer"><input type="checkbox" id="singleRoom" name="single_room"><span class="ml-3 text-white">éœ€è¦å–®äººæˆ¿ (è£œåƒ¹å·®$9,000)</span></label></div></fieldset>

                    <div id="costResult" class="text-center bg-black/20 p-6 rounded-lg border border-white/10 min-h-[120px] flex flex-col justify-center"><p class="text-gray-400">è«‹å¡«å¯«äººæ•¸ï¼Œä¸‹æ–¹å°‡é¡¯ç¤ºè²»ç”¨é ä¼°</p></div>
                    <button type="submit" id="submitBtn" class="w-full font-bold py-3 px-8 rounded-lg hover:bg-red-400 transition-colors duration-300 text-lg">
                        é€å‡ºå ±å
                    </button>
                    <div id="formStatus" class="text-center mt-4 h-6"></div>
                </form>
            </section>
            
            <section class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="card p-6"><h3 class="text-xl font-bold text-center mb-4 text-white">åœ˜è²»åŒ…å«é …ç›®</h3><div class="space-y-2 text-gray-200"><p class="info-list-item">äº¤é€šè²»ï¼šè¡Œç¨‹è¡¨å…§åœ˜é«”éŠè¦½è»Šï¼Œå¾·å¨èˆªç©ºä¾†å›ç¶“æ¿Ÿè‰™åœ˜é«”æ©Ÿç¥¨ã€‚</p><p class="info-list-item">ç¨…æï¼šå„åœ°æ©Ÿå ´ç¨…ã€ç‡ƒæ–™ç¨…ã€ç¨…é‡‘ã€‚</p><p class="info-list-item">é¤é£Ÿï¼šè¡Œç¨‹å…§åˆ—æ˜ä¹‹é¤é£Ÿï¼Œç›¡é‡å®‰æ’é©åˆåœ‹äººå£å‘³ã€‚</p><p class="info-list-item">ä½å®¿ï¼šè¡Œç¨‹è¡¨å…§é£¯åº—ä½å®¿ï¼ˆå…©äººä¸€å®¤ç‚ºåŸå‰‡ï¼‰ï¼Œéœ€é” 10 é–“ä»¥ä¸Šã€‚</p><p class="info-list-item">éŠè¦½è²»ï¼šè¡Œç¨‹å…§æ—…éŠæ´»å‹•ä¹‹é–€ç¥¨ã€æ‰‹çºŒè²»ã€‚</p><p class="info-list-item">ä¿éšªè²»ï¼šæ¯äººå…¨ç¨‹æ—…éŠè²¬ä»»ä¿éšªæ–°å°å¹£ä¼ä½°è¬å…ƒåŠè²³åè¬å…ƒæ„å¤–é†«ç™‚éšªã€‚</p><p class="info-list-item">è´ˆç¦®ï¼šèŠ±èŠ±å°ˆå±¬è´ˆå“ã€æ—…éŠæ‰‹å†Šã€ä¼æ¥­ç´€å¿µå¸ƒæ¢ã€èŠ±èŠ±ç­†ã€å¤¾éˆè¢‹ã€ç¶²å¡ã€‚</p><p class="info-list-item">å°è²»ï¼šå¸æ©Ÿã€é ˜éšŠã€å°éŠå°è²» (æ¯æ—¥ NT$300 x 5 å¤©ï¼Œå…± NT$1,500/äººï¼Œå·²åŒ…å«)ã€‚</p><p class="info-list-item">é ˜éšŠå°éŠï¼šé” 16 äººä»¥ä¸Šæ´¾é£åˆæ ¼å°ˆæ¥­é ˜éšŠ 1 ä½ï¼Œç•¶åœ°å°éŠ 1 ä½ã€‚</p><p class="info-list-item">é£²ç”¨æ°´ï¼šç¤¦æ³‰æ°´ç„¡é™æä¾›ã€‚</p></div></div>
                <div class="card p-6"><h3 class="text-xl font-bold text-center mb-4 text-white">åœ˜è²»æœªå«é …ç›®</h3><div class="space-y-2 text-gray-200"><p class="info-list-item">è­‰ç…§è²»ï¼šæ–°è¾¦ (æ›æ–°) åå¹´æ•ˆæœŸè­·ç…§è²»ç”¨ NT$1,600 å…ƒã€‚</p><p class="info-list-item">è­‰ç…§è²»ï¼š14 æ­²ä»¥ä¸‹äº”å¹´æ•ˆæœŸè­·ç…§è²»ç”¨ NT$1,200 å…ƒã€‚</p><p class="info-list-item">ç´”ä¿‚ç§äººä¹‹æ¶ˆè²»ï¼šå¦‚é›»è©±è²»ã€æ´—è¡£è²»ç­‰ã€‚</p><p class="info-list-item">åºŠé ­ã€è¡Œæå°è²»åŠè¡¨ä¸Šæœªåˆ—æ˜ä¹‹å…¶ä»–è¡Œç¨‹è‡ªè²»è¡Œç¨‹ã€‚</p><p class="info-list-item">æ—…éŠå¹³å®‰ä¿éšªåŠæ—…éŠä¸ä¾¿éšªç­‰å…¶ä»–ç§äººä¿éšªé …ç›®ã€‚</p></div></div>
            </section>
        </main>
    </div>

    <script>
        const regForm = document.getElementById('registrationForm');
        const resultDiv = document.getElementById('costResult');
        const numAdultsInput = document.getElementById('numAdults');
        const numChildrenInput = document.getElementById('numChildren');
        const numInfantsInput = document.getElementById('numInfants');
        const companionSection = document.getElementById('companionSection');
        const hiddenAdultsInput = document.getElementById('hiddenAdults');
        const hiddenChildrenInput = document.getElementById('hiddenChildren');
        const hiddenInfantsInput = document.getElementById('hiddenInfants');

        function generateCompanionFields() {
            const adults = parseInt(numAdultsInput.value) || 0;
            const children = parseInt(numChildrenInput.value) || 0;
            const infants = parseInt(numInfantsInput.value) || 0;
            hiddenAdultsInput.value = adults;
            hiddenChildrenInput.value = children;
            hiddenInfantsInput.value = infants;
            let companionHtml = '';
            
            for (let i = 1; i <= adults; i++) {
                companionHtml += `
                    <fieldset class="p-4 border border-gray-600/50 rounded-lg">
                        <legend class="px-2 text-md font-semibold text-white">çœ·å±¬ (æˆäºº) ${i} è³‡æ–™</legend>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-2">
                            <div><label class="block text-sm font-medium text-gray-300 mb-1">è­·ç…§è‹±æ–‡å§“å</label><input type="text" name="adult_${i}_passport_name" class="form-input" placeholder="PASSPORT NAME" required></div>
                            <div><label class="block text-sm font-medium text-gray-300 mb-1">è­·ç…§è™Ÿç¢¼</label><input type="text" name="adult_${i}_passport_number" class="form-input" placeholder="è­·ç…§è™Ÿç¢¼" required></div>
                            <div><label class="block text-sm font-medium text-gray-300 mb-1">å‡ºç”Ÿå¹´æœˆæ—¥</label><input type="date" name="adult_${i}_dob" class="form-input" required></div>
                        </div>
                        <div class="mt-4"><label class="inline-flex items-center cursor-pointer"><input type="checkbox" name="adult_${i}_renew_passport"><span class="ml-3 text-white">éœ€è¦æ–°è¾¦/æ›æ–°è­·ç…§</span></label></div>
                    </fieldset>`;
            }
             for (let i = 1; i <= children; i++) {
                companionHtml += `
                    <fieldset class="p-4 border border-gray-600/50 rounded-lg">
                        <legend class="px-2 text-md font-semibold text-white">å­©ç«¥ ${i} è³‡æ–™</legend>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-2">
                            <div><label class="block text-sm font-medium text-gray-300 mb-1">è­·ç…§è‹±æ–‡å§“å</label><input type="text" name="child_${i}_passport_name" class="form-input" placeholder="PASSPORT NAME" required></div>
                            <div><label class="block text-sm font-medium text-gray-300 mb-1">è­·ç…§è™Ÿç¢¼</label><input type="text" name="child_${i}_passport_number" class="form-input" placeholder="è­·ç…§è™Ÿç¢¼" required></div>
                            <div><label class="block text-sm font-medium text-gray-300 mb-1">å‡ºç”Ÿå¹´æœˆæ—¥</label><input type="date" name="child_${i}_dob" class="form-input" required></div>
                        </div>
                        <div class="mt-4"><label class="inline-flex items-center cursor-pointer"><input type="checkbox" name="child_${i}_renew_passport"><span class="ml-3 text-white">éœ€è¦æ–°è¾¦/æ›æ–°è­·ç…§ (14æ­²ä»¥ä¸‹ $1,200)</span></label></div>
                    </fieldset>`;
            }
            for (let i = 1; i <= infants; i++) {
                companionHtml += `
                    <fieldset class="p-4 border border-gray-600/50 rounded-lg">
                        <legend class="px-2 text-md font-semibold text-white">å¬°å…’ ${i} è³‡æ–™</legend>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-2">
                            <div><label class="block text-sm font-medium text-gray-300 mb-1">è­·ç…§è‹±æ–‡å§“å</label><input type="text" name="infant_${i}_passport_name" class="form-input" placeholder="PASSPORT NAME" required></div>
                            <div><label class="block text-sm font-medium text-gray-300 mb-1">è­·ç…§è™Ÿç¢¼</label><input type="text" name="infant_${i}_passport_number" class="form-input" placeholder="è­·ç…§è™Ÿç¢¼" required></div>
                            <div><label class="block text-sm font-medium text-gray-300 mb-1">å‡ºç”Ÿå¹´æœˆæ—¥</label><input type="date" name="infant_${i}_dob" class="form-input" required></div>
                        </div>
                        <div class="mt-4"><label class="inline-flex items-center cursor-pointer"><input type="checkbox" name="infant_${i}_renew_passport"><span class="ml-3 text-white">éœ€è¦æ–°è¾¦/æ›æ–°è­·ç…§ (14æ­²ä»¥ä¸‹ $1,200)</span></label></div>
                    </fieldset>`;
            }
            companionSection.innerHTML = companionHtml;
            
            companionSection.querySelectorAll('input').forEach(input => {
                input.addEventListener('change', calculateTotalCost);
            });
        }
        
        function getAge(dateString) {
            if (!dateString) return 99; // Assume adult if no date is entered
            const today = new Date();
            const birthDate = new Date(dateString);
            let age = today.getFullYear() - birthDate.getFullYear();
            const m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            return age;
        }

        function calculateTotalCost() {
            const scenarios = {
                planB: { base: 3900, label: "è‹¥ç¸½äººæ•¸16-20ä½" },
                planA: { base: 2900, label: "è‹¥ç¸½äººæ•¸>20ä½" }
            };

            let finalHtml = '';
            
            for (const scenarioKey in scenarios) {
                const scenario = scenarios[scenarioKey];
                
                const hasBonus = document.getElementById('performanceBonus').checked;
                const numAdults = parseInt(numAdultsInput.value) || 0;
                const numChildren = parseInt(numChildrenInput.value) || 0;
                const numInfants = parseInt(numInfantsInput.value) || 0;
                const needsSingleRoom = document.getElementById('singleRoom').checked;

                const companySubsidy = 30000;
                const familyBonusSubsidy = 15000;
                const baseEmployeeCost = scenario.base;
                const totalTourCost = baseEmployeeCost + companySubsidy;
                const childDiscount = 1000;
                const infantCost = 6500;
                const singleRoomSupplement = 9000;
                const adultPassportFee = 1600;
                const childPassportFee = 1200;

                let tourTotalCost = 0;
                let passportTotalCost = 0;
                let breakdownHtml = '<div class="text-left text-sm space-y-1 mt-3">';
                let bonusApplied = false;

                tourTotalCost += baseEmployeeCost;
                breakdownHtml += `<p>â€¢ å“¡å·¥æœ¬äººï¼š<span class="font-bold text-white">${baseEmployeeCost.toLocaleString()}</span> å…ƒ</p>`;
                const employeeDob = regForm.querySelector('[name="employee_dob"]')?.value;
                if (regForm.querySelector('[name="employee_renew_passport"]')?.checked) {
                    passportTotalCost += (getAge(employeeDob) < 14 ? childPassportFee : adultPassportFee);
                }

                for (let i = 1; i <= numAdults; i++) {
                    let adultCost = totalTourCost;
                    let adultBreakdownText = `â€¢ çœ·å±¬ (æˆäºº ${i})ï¼š`;
                    if (hasBonus && !bonusApplied) {
                        adultCost -= familyBonusSubsidy;
                        adultBreakdownText = `â€¢ é”æ¨™çœ·å±¬ (æˆäºº ${i})ï¼š`;
                        bonusApplied = true;
                    }
                    tourTotalCost += adultCost;
                    breakdownHtml += `<p>${adultBreakdownText}<span class="font-bold text-white">${adultCost.toLocaleString()}</span> å…ƒ</p>`;
                    const adultDob = regForm.querySelector(`[name="adult_${i}_dob"]`)?.value;
                    if (regForm.querySelector(`[name="adult_${i}_renew_passport"]`)?.checked) {
                        passportTotalCost += (getAge(adultDob) < 14 ? childPassportFee : adultPassportFee);
                    }
                }

                for (let i = 1; i <= numChildren; i++) {
                    let childCost = totalTourCost - childDiscount;
                    let childBreakdownText = `â€¢ å­©ç«¥ (${i})ï¼š`;
                    if (hasBonus && !bonusApplied) {
                        childCost -= familyBonusSubsidy;
                        childBreakdownText = `â€¢ é”æ¨™çœ·å±¬ (å­©ç«¥ ${i})ï¼š`;
                        bonusApplied = true;
                    }
                    tourTotalCost += childCost;
                    breakdownHtml += `<p>${childBreakdownText}<span class="font-bold text-white">${childCost.toLocaleString()}</span> å…ƒ</p>`;
                    if (regForm.querySelector(`[name="child_${i}_renew_passport"]`)?.checked) {
                        passportTotalCost += childPassportFee;
                    }
                }
                
                if (numInfants > 0) {
                    tourTotalCost += numInfants * infantCost;
                    breakdownHtml += `<p>â€¢ å¬°å…’ (${numInfants}ä½)ï¼š<span class="font-bold text-white">${(numInfants * infantCost).toLocaleString()}</span> å…ƒ</p>`;
                     for (let i = 1; i <= numInfants; i++) {
                        if (regForm.querySelector(`[name="infant_${i}_renew_passport"]`)?.checked) {
                            passportTotalCost += childPassportFee;
                        }
                     }
                }

                if (needsSingleRoom) { tourTotalCost += singleRoomSupplement; breakdownHtml += `<p>â€¢ å–®äººæˆ¿åƒ¹å·®ï¼š<span class="font-bold text-white">${singleRoomSupplement.toLocaleString()}</span> å…ƒ</p>`; }
                
                if(passportTotalCost > 0) {
                    breakdownHtml += `<p>â€¢ è­·ç…§è¾¦ç†è²»ç¸½è¨ˆï¼š<span class="font-bold text-red-300">${passportTotalCost.toLocaleString()}</span> å…ƒ</p>`;
                }
                
                let grandTotal = tourTotalCost + passportTotalCost;
                breakdownHtml += '</div>';

                finalHtml += `
                    <div class="flex-1 p-4 rounded-lg bg-black/10">
                        <p class="font-bold text-gray-300">${scenario.label}è²»ç”¨æ˜ç´°ï¼š</p>
                        ${breakdownHtml}
                        <hr class="border-gray-500/50 my-3">
                        <p class="font-bold text-white text-right">ç¸½è¨ˆï¼š<span class="text-2xl font-black text-red-400">${grandTotal.toLocaleString()}</span> å…ƒ</p>
                    </div>`;
            }
            resultDiv.innerHTML = `<div class="flex flex-col md:flex-row gap-4">${finalHtml}</div>`;
        }
        
        numAdultsInput.addEventListener('input', () => { generateCompanionFields(); calculateTotalCost(); });
        numChildrenInput.addEventListener('input', () => { generateCompanionFields(); calculateTotalCost(); });
        numInfantsInput.addEventListener('input', () => { generateCompanionFields(); calculateTotalCost(); });
        
        regForm.addEventListener('change', (event) => {
            const numberInputIds = ['numAdults', 'numChildren', 'numInfants'];
            if (!numberInputIds.includes(event.target.id)) {
                calculateTotalCost();
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
             generateCompanionFields();
             calculateTotalCost();
        });

        const scriptURL = 'https://script.google.com/macros/s/AKfycbxbbw0aqiY4zAQs7dsTeHh2KzaeAk5Mr851fcYAnIld20rt3r0Jv4AfJp7ocnn91g8W/exec';
        const form = document.getElementById('registrationForm');
        const submitBtn = document.getElementById('submitBtn');
        const formStatus = document.getElementById('formStatus');

        form.addEventListener('submit', e => {
            e.preventDefault();
            submitBtn.disabled = true;
            submitBtn.textContent = 'å‚³é€ä¸­...';
            formStatus.textContent = '';
            
            fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                .then(response => response.json())
                .then(data => {
                    if(data.result === 'success'){
                        formStatus.textContent = 'å ±åæˆåŠŸï¼æ„Ÿè¬æ‚¨çš„åƒèˆ‡ã€‚';
                        formStatus.style.color = 'var(--accent-red-hover)';
                        form.reset();
                        // å„ªåŒ–ï¼šæˆåŠŸé€å‡ºå¾Œï¼Œé‡è¨­å‹•æ…‹ç”¢ç”Ÿçš„çœ·å±¬æ¬„ä½å’Œè²»ç”¨
                        generateCompanionFields();
                        calculateTotalCost();
                    } else {
                        throw new Error(data.error || 'Unknown error');
                    }
                })
                .catch(error => {
                    formStatus.textContent = 'å ±åå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦æˆ–è¯ç¹«ä¸»è¾¦äººã€‚';
                    formStatus.style.color = '#FF6B6B';
                    console.error('Error!', error.message);
                })
                .finally(() => {
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'é€å‡ºå ±å';
                });
        });
        
        const countdownTimerElement = document.getElementById('countdownTimer');
        const today = new Date();
        const dayOfWeek = today.getDay(); 
        const daysUntilSunday = dayOfWeek === 0 ? 0 : 7 - dayOfWeek;
        const deadlineDate = new Date(today);
        deadlineDate.setDate(today.getDate() + daysUntilSunday);
        deadlineDate.setHours(23, 59, 59, 999);

        const updateCountdown = () => {
            const now = new Date().getTime();
            const distance = deadlineDate.getTime() - now;
            if (distance < 0) {
                clearInterval(countdownInterval);
                countdownTimerElement.innerHTML = '<span class="text-xl font-bold text-white">å ±åå·²æˆªæ­¢ï¼</span>';
                return;
            }
            const d = Math.floor(distance / (1000 * 60 * 60 * 24));
            const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((distance % (1000 * 60)) / 1000);
            countdownTimerElement.innerHTML = `
                <div class="countdown-segment"><span>${d.toString().padStart(2, '0')}</span><span class="countdown-label">å¤©</span></div>
                <div class="countdown-segment"><span>${h.toString().padStart(2, '0')}</span><span class="countdown-label">æ™‚</span></div>
                <div class="countdown-segment"><span>${m.toString().padStart(2, '0')}</span><span class="countdown-label">åˆ†</span></div>
                <div class="countdown-segment"><span>${s.toString().padStart(2, '0')}</span><span class="countdown-label">ç§’</span></div>`;
        };
        const countdownInterval = setInterval(updateCountdown, 1000);
        updateCountdown();
    </script>
</body>
</html>

